{"version":3,"sources":["app.js"],"names":["$","webshim","setOptions","lazyCustomMessages","replaceValidationUI","polyfill","phoneLink","md","MobileDetect","window","navigator","userAgent","mobile","attr","data","removeClass","console","log","addClass","body","name","inputmask","greedy","on","e","preventDefault","length","submit","self","selfName","find","selfPhone","selfEmail","formData","serialize","val","ajax","type","url","success","localStorage","setItem","target","hasClass","location","text","getItem"],"mappings":"AAAAA,EAAE,YAAW;;AAETC,YAAQC,UAAR,CAAmB,OAAnB,EAA4B;AACxB;AACAC,4BAAoB,IAFI;AAGxB;AACAC,6BAAqB;AAJG,KAA5B;;AAOA;AACAH,YAAQI,QAAR,CAAiB,OAAjB;;AAEA,aAASC,SAAT,GAAqB;AACjB,YAAIC,KAAK,IAAIC,YAAJ,CAAiBC,OAAOC,SAAP,CAAiBC,SAAlC,CAAT;AACA,YAAIL,YAAYN,EAAE,aAAF,CAAhB;;AAEA,YAAIO,GAAGK,MAAH,EAAJ,EAAiB;AACbN,sBAAUO,IAAV,CAAe,MAAf,EAAuB,SAASb,EAAE,aAAF,EAAiBc,IAAjB,CAAsB,OAAtB,CAAhC;AACAR,sBAAUS,WAAV,CAAsB,cAAtB;AACAC,oBAAQC,GAAR,CAAY,QAAZ;AACH,SAJD,MAIO;AACHX,sBAAUO,IAAV,CAAe,MAAf,EAAuB,EAAvB;AACAP,sBAAUY,QAAV,CAAmB,cAAnB;AACAF,oBAAQC,GAAR,CAAY,IAAZ;AACH;AACJ;AACDX;;AAEA;AACA,QAAIa,OAAOnB,EAAE,MAAF,CAAX;AACA,QAAIoB,IAAJ;;AAEApB,MAAE,mBAAF,EAAuBqB,SAAvB,CAAiC;AAC7B,gBAAQ,iBADqB;AAE7BC,gBAAQ;AAFqB,KAAjC;;AAKAH,SAAKI,EAAL,CAAQ,OAAR,EAAiB,eAAjB,EAAkC,UAASC,CAAT,EAAY;AAC1CA,UAAEC,cAAF;;AAEA,YAAI,CAACzB,EAAE,SAAF,EAAa0B,MAAlB,EAA0B;AACtBP,iBAAKD,QAAL,CAAc,WAAd;AACAlB,cAAE,kBAAF,EAAsBkB,QAAtB,CAA+B,gBAA/B;AACH;AACJ,KAPD;;AASAlB,MAAE,yBAAF,EAA6B2B,MAA7B,CAAoC,UAASH,CAAT,EAAY;AAC5CA,UAAEC,cAAF;AACAzB,UAAE,iBAAF,EAAqBe,WAArB,CAAiC,gBAAjC;;AAEA,YAAIa,OAAO5B,EAAE,IAAF,CAAX;AACA,YAAI6B,WAAWD,KAAKE,IAAL,CAAU,kBAAV,CAAf;AACA,YAAIC,YAAYH,KAAKE,IAAL,CAAU,mBAAV,CAAhB;AACA,YAAIE,YAAYJ,KAAKE,IAAL,CAAU,mBAAV,CAAhB;AACA,YAAIG,WAAWL,KAAKM,SAAL,EAAf;AACAlB,gBAAQC,GAAR,CAAYgB,QAAZ;;AAEAjC,UAAE,cAAF,EAAkBmC,GAAlB,CAAsBN,SAASM,GAAT,EAAtB;AACAnC,UAAE,eAAF,EAAmBmC,GAAnB,CAAuBJ,UAAUI,GAAV,EAAvB;AACAnC,UAAE,eAAF,EAAmBmC,GAAnB,CAAuBH,UAAUG,GAAV,EAAvB;;AAEAnC,UAAEoC,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAK,cAFF;AAGHxB,kBAAMmB,QAHH;AAIHM,qBAAS,UAASzB,IAAT,EAAe;AACpB;AACH;AANE,SAAP;;AASAK,aAAKD,QAAL,CAAc,WAAd;AACAlB,UAAE,gBAAF,EAAoBkB,QAApB,CAA6B,gBAA7B;;AAEAE,eAAOS,SAASM,GAAT,EAAP;;AAEA,YAAIf,IAAJ,EAAU;AACNoB,yBAAaC,OAAb,CAAqB,eAArB,EAAsCrB,OAAO,IAA7C;AACH,SAFD,MAEO;AACHoB,yBAAaC,OAAb,CAAqB,eAArB,EAAsC,EAAtC;AACH;AACJ,KAlCD;;AAoCAtB,SAAKI,EAAL,CAAQ,OAAR,EAAiB,UAASC,CAAT,EAAY;AACzB,YAAII,OAAO5B,EAAEwB,EAAEkB,MAAJ,CAAX;;AAEA,YAAId,KAAKe,QAAL,CAAc,WAAd,KAA8Bf,KAAKe,QAAL,CAAc,aAAd,CAAlC,EAAgE;AAC5DxB,iBAAKJ,WAAL,CAAiB,WAAjB;AACAf,cAAE,YAAF,EAAgBe,WAAhB,CAA4B,gBAA5B;AACH;AACJ,KAPD;;AASAf,MAAE,UAAF,EAAc2B,MAAd,CAAqB,UAASH,CAAT,EAAY;AAC7BA,UAAEC,cAAF;;AAEA,YAAIG,OAAO5B,EAAE,IAAF,CAAX;AACA,YAAIiC,WAAWL,KAAKM,SAAL,EAAf;;AAEAlC,UAAEoC,IAAF,CAAO;AACHC,kBAAM,MADH;AAEHC,iBAAK,qBAFF;AAGHxB,kBAAMmB,QAHH;AAIHM,qBAAS,UAASzB,IAAT,EAAe;AACpB8B,2BAAW,aAAX;AACH;AANE,SAAP;AAQH,KAdD;;AAgBA,QAAI5C,EAAE,aAAF,EAAiB0B,MAArB,EAA6B;AACzB1B,UAAE,aAAF,EAAiB6C,IAAjB,CAAsBL,aAAaM,OAAb,CAAqB,eAArB,CAAtB;AACH;AACD;AAEH,CAhHD","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    webshim.setOptions('forms', {\r\n        //set lazyCustomMessages to true\r\n        lazyCustomMessages: true,\r\n        //show custom styleable validation bubble\r\n        replaceValidationUI: true\r\n    });\r\n\r\n    //start polyfilling\r\n    webshim.polyfill('forms');\r\n\r\n    function phoneLink() {\r\n        var md = new MobileDetect(window.navigator.userAgent);\r\n        var phoneLink = $(\".phone-link\");\r\n\r\n        if (md.mobile()) {\r\n            phoneLink.attr(\"href\", \"tel:\" + $(\".phone-link\").data(\"phone\"));\r\n            phoneLink.removeClass(\"js-small-btn\");\r\n            console.log(\"mobile\")\r\n        } else {\r\n            phoneLink.attr(\"href\", \"\");\r\n            phoneLink.addClass(\"js-small-btn\");\r\n            console.log(\"pc\")\r\n        }\r\n    }\r\n    phoneLink();\r\n\r\n    // form handler\r\n    var body = $(\"body\");\r\n    var name;\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9(999)999-9999\",\r\n        greedy: false,\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            body.addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#smallForm, #bottomForm\").submit(function(e) {\r\n        e.preventDefault();\r\n        $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n        var self = $(this);\r\n        var selfName = self.find(\"input[name=name]\");\r\n        var selfPhone = self.find(\"input[name=phone]\");\r\n        var selfEmail = self.find(\"input[name=email]\");\r\n        var formData = self.serialize();\r\n        console.log(formData);\r\n\r\n        $(\"[name=name1]\").val(selfName.val());\r\n        $(\"[name=phone1]\").val(selfPhone.val());\r\n        $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/send.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                //location = \"thanks.html\";\r\n            }\r\n        });\r\n\r\n        body.addClass(\"form-open\");\r\n        $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n        name = selfName.val();\r\n\r\n        if (name) {\r\n            localStorage.setItem(\"centoflawname\", name + \", \");\r\n        } else {\r\n            localStorage.setItem(\"centoflawname\", \"\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n\r\n        if (self.hasClass(\"form-wrap\") || self.hasClass(\"form__close\")) {\r\n            body.removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#bigForm\").submit(function(e) {\r\n        e.preventDefault();\r\n\r\n        var self = $(this);\r\n        var formData = self.serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/sendpresent.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                location = \"thanks.html\";\r\n            }\r\n        });\r\n    });\r\n\r\n    if ($(\"#thanksName\").length) {\r\n        $(\"#thanksName\").text(localStorage.getItem(\"centoflawname\"));\r\n    };\r\n    // form handler\r\n\r\n});"]}