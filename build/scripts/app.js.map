{"version":3,"sources":["app.js"],"names":["$","webshim","setOptions","lazyCustomMessages","replaceValidationUI","polyfill","body","name","inputmask","greedy","on","e","preventDefault","length","addClass","submit","removeClass","self","selfName","find","selfPhone","selfEmail","formData","serialize","console","log","val","ajax","type","url","data","success","localStorage","setItem","target","hasClass","location","text","getItem"],"mappings":"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","file":"app.js","sourcesContent":["$(function() {\r\n\r\n    webshim.setOptions('forms', {\r\n        //set lazyCustomMessages to true\r\n        lazyCustomMessages: true,\r\n        //show custom styleable validation bubble\r\n        replaceValidationUI: true\r\n    });\r\n\r\n    //start polyfilling\r\n    webshim.polyfill('forms');\r\n\r\n    \r\n    // form handler\r\n    var body = $(\"body\");\r\n    var name;\r\n\r\n    $(\"input[name=phone]\").inputmask({\r\n        \"mask\": \"+9(999)999-9999\",\r\n        greedy: false,\r\n    });\r\n\r\n    body.on(\"click\", \".js-small-btn\", function(e) {\r\n        e.preventDefault();\r\n\r\n        if (!$(\".thanks\").length) {\r\n            body.addClass(\"form-open\");\r\n            $(\".form-wrap_small\").addClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#smallForm, #bottomForm\").submit(function(e) {\r\n        e.preventDefault();\r\n        $(\".form-wrap_open\").removeClass(\"form-wrap_open\");\r\n\r\n        var self = $(this);\r\n        var selfName = self.find(\"input[name=name]\");\r\n        var selfPhone = self.find(\"input[name=phone]\");\r\n        var selfEmail = self.find(\"input[name=email]\");\r\n        var formData = self.serialize();\r\n        console.log(formData);\r\n\r\n        $(\"[name=name1]\").val(selfName.val());\r\n        $(\"[name=phone1]\").val(selfPhone.val());\r\n        $(\"[name=email1]\").val(selfEmail.val());\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/send.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                //location = \"thanks.html\";\r\n            }\r\n        });\r\n\r\n        body.addClass(\"form-open\");\r\n        $(\".form-wrap_big\").addClass(\"form-wrap_open\");\r\n\r\n        name = selfName.val();\r\n\r\n        if (name) {\r\n            localStorage.setItem(\"centoflawname\", name + \", \");\r\n        } else {\r\n            localStorage.setItem(\"centoflawname\", \"\");\r\n        }\r\n    });\r\n\r\n    body.on(\"click\", function(e) {\r\n        var self = $(e.target);\r\n\r\n        if (self.hasClass(\"form-wrap\") || self.hasClass(\"form__close\")) {\r\n            body.removeClass(\"form-open\");\r\n            $(\".form-wrap\").removeClass(\"form-wrap_open\");\r\n        }\r\n    });\r\n\r\n    $(\"#bigForm\").submit(function(e) {\r\n        e.preventDefault();\r\n\r\n        var self = $(this);\r\n        var formData = self.serialize();\r\n\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"php/sendpresent.php\",\r\n            data: formData,\r\n            success: function(data) {\r\n                location = \"thanks.html\";\r\n            }\r\n        });\r\n    });\r\n\r\n    if ($(\"#thanksName\").length) {\r\n        $(\"#thanksName\").text(localStorage.getItem(\"centoflawname\"));\r\n    };\r\n    // form handler\r\n\r\n});"]}